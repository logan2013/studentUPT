{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AACgB;AAcpD;IAAA;IAA6B,CAAC;IAAjB,aAAa;QAZzB,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,yDAAO;aACR;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,yDAAO,CAAC;gBACjC,0EAAe;aAChB;YACD,OAAO,EAAE;gBACP,yDAAO;aACR;SACF,CAAC;OACW,aAAa,CAAI;IAAD,oBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBgB;AACsE;AACnE;AACiB;AAClB;AACb;AAC/B;;;;;GAKG;AAMH;IAOE,qCAAqC;IACrC,yCAAyC;IACzC,iBAAmB,OAAsB,EAChC,SAA0B,EAC1B,WAA8B,EAC9B,SAAoB,EACpB,IAAU,EACV,MAAc,EACd,IAAU,EACV,WAAwB;QAPjC,iBAgBC;QAhBkB,YAAO,GAAP,OAAO,CAAe;QAChC,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAW;QACpB,SAAI,GAAJ,IAAI,CAAM;QACV,WAAM,GAAN,MAAM,CAAQ;QACd,SAAI,GAAJ,IAAI,CAAM;QACV,gBAAW,GAAX,WAAW,CAAa;QAd1B,SAAI,GAAQ,KAAK,CAAC;QAClB,aAAQ,GAAQ,EAAE,CAAC;QACnB,aAAQ,GAAQ,iBAAiB,CAAC;QAClC,aAAQ,GAAQ,iBAAiB,CAAC;QAClC,eAAU,GAAQ,iBAAiB,CAAC;QAWzC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,UAAC,UAAU;YAChC,KAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACnC,UAAU,EAAE,CAAC,EAAE,CAAC;YAChB,IAAI,EAAE,CAAC,EAAE,CAAC;YACV,SAAS,EAAE,CAAC,EAAE,CAAC;SAChB,CAAC,CAAC;IACL,CAAC;IAED,gCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;IACxC,CAAC;IAED,wBAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,0BAAQ,GAAR;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACnB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QACpB,CAAC;IACH,CAAC;IAED,wBAAM,GAAN;QAEE,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACjC,OAAO,EAAE,oBAAoB;YAC7B,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,KAAK;SAChB,CAAC,CAAC;QACH,MAAM,CAAC,OAAO,EAAE,CAAC;QACjB,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;IAGpB,CAAC;IAED,+BAAa,GAAb;QAAA,iBAyEC;QAvEC,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACnC,OAAO,EAAE,UAAU;YACnB,QAAQ,EAAE,GAAG;SACd,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,sDAAsD;YAC/D,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,KAAK;SAChB,CAAC,CAAC;QAGH,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,KAAK,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,KAAK,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,KAAK,EAAE,CAAC,CAAC,CAAC;YAElH,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC7D,IAAI,OAAO,GAAG,IAAI,8DAAO,EAAE,CAAC;gBAC5B,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;gBAC7C,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;gBACnD,IAAI,OAAO,GAAG,IAAI,qEAAc,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;gBAEvD,IAAI,UAAU,GAAG;oBACf,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU;oBACzC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI;oBAC7B,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS;oBACvC,IAAI,EAAE,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC;iBACnC;gBAED,MAAM,CAAC,OAAO,EAAE,CAAC;gBAEjB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,wCAAwC,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC,SAAS,CAAC,cAAI;oBAEjI,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;wBACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBAClB,MAAM,CAAC,OAAO,EAAE,CAAC;wBACjB,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACpB,OAAO,EAAE,IAAI,CAAC,IAAI;4BAClB,QAAQ,EAAE,IAAI;4BACd,QAAQ,EAAE,KAAK;yBAChB,CAAC,CAAC,OAAO,EAAE,CAAC;oBACf,CAAC;oBACD,IAAI,CAAC,CAAC;wBACJ,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACpB,OAAO,EAAE,IAAI,CAAC,IAAI;4BAClB,QAAQ,EAAE,IAAI;4BACd,QAAQ,EAAE,KAAK;yBAChB,CAAC,CAAC,OAAO,EAAE,CAAC;wBACb,MAAM,CAAC,OAAO,EAAE,CAAC;oBACnB,CAAC;gBAEH,CAAC,EAAE,eAAK;oBACN,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACrB,CAAC,CAAC,CAAC;YAEL,CAAC;YAAC,IAAI,CAAC,CAAC;gBAEN,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBACpB,OAAO,EAAE,wEAAwE;oBACjF,QAAQ,EAAE,IAAI;oBACd,QAAQ,EAAE,KAAK;iBAChB,CAAC,CAAC,OAAO,EAAE,CAAC;YAEf,CAAC;QAEH,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACpB,OAAO,EAAE,6BAA6B;gBACtC,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,KAAK;aAChB,CAAC,CAAC,OAAO,EAAE,CAAC;QACf,CAAC;QACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAnIU,OAAO;QALnB,wEAAS,EAAE;QACX,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;mFAUyC;YACrB,wEAAe;YACb,iEAAiB;YACnB,8DAAS;YACd,6DAAI;YACF,4DAAM;YACR,mEAAI;YACG,IAAW;OAhBtB,OAAO,CAoInB;IAAD,CAAC;AAAA;SApIY,OAAO,mB","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Profile } from './profile';\nimport { SuperTabsModule } from 'ionic2-super-tabs';\n\n@NgModule({\n  declarations: [\n    Profile,\n  ],\n  imports: [\n    IonicPageModule.forChild(Profile),\n    SuperTabsModule\n  ],\n  exports: [\n    Profile\n  ]\n})\nexport class ProfileModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, Events, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\nimport { FormBuilder } from '@angular/forms';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport { Auth } from '../../providers/auth';\nimport 'rxjs/add/operator/map';\n/**\n * Generated class for the Profile page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class Profile {\n  public myForm: any;\n  public show: any = false;\n  public userData: any = [];\n  public rootOrar: any = 'OrarStudentPage';\n  public rootNote: any = 'OrarStudentPage';\n  public rootSetari: any = 'OrarStudentPage';\n  // public rootNote: any = 'NotePage';\n  // public rootSetari: any = 'SetariPage';\n  constructor(public navCtrl: NavController,\n    public toastCtrl: ToastController,\n    public loadingCtrl: LoadingController,\n    public navParams: NavParams,\n    public auth: Auth,\n    public events: Events,\n    public http: Http,\n    public formBuilder: FormBuilder) {\n    this.auth.login().then((isLoggedIn) => {\n      this.userData = isLoggedIn;\n    });\n    this.myForm = this.formBuilder.group({\n      curentpass: [''],\n      pass: [''],\n      repetpass: ['']\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Profile');\n  }\n\n  goBack() {\n    this.navCtrl.pop();\n  }\n\n  showForm() {\n    if (this.show == false) {\n      this.show = true;\n    } else if (this.show == true) {\n      this.show = false;\n    }\n  }\n\n  logout() {\n\n    let loader = this.toastCtrl.create({\n      message: 'Logout successfuly',\n      duration: 1000,\n      position: 'top'\n    });\n    loader.present();\n    localStorage.removeItem('user');\n    this.events.publish('try:login', '');\n    this.navCtrl.pop()\n\n\n  }\n\n  resetPassowrd() {\n\n    let loader = this.loadingCtrl.create({\n      content: \"Wait ...\",\n      duration: 750\n    });\n\n    let loginFail = this.toastCtrl.create({\n      message: 'Incercarea de schimbare a parolei nu a avut succses.',\n      duration: 2500,\n      position: 'top'\n    });\n\n\n    if (this.myForm._value.curentpass !== '' || this.myForm._value.pass !== '' || this.myForm._value.repetpass !== '') {\n\n      if (this.myForm._value.pass === this.myForm._value.repetpass) {\n        let headers = new Headers();\n        headers.append(\"Accept\", 'application/json');\n        headers.append('Content-Type', 'application/json');\n        let options = new RequestOptions({ headers: headers });\n\n        let postParams = {\n          curentPass: this.myForm._value.curentpass,\n          pass: this.myForm._value.pass,\n          repetPass: this.myForm._value.repetpass,\n          user: localStorage.getItem('user')\n        }\n\n        loader.present();\n\n        this.http.post('http://193.226.9.153/resetPassword.php', JSON.stringify(postParams), options).map(res => res.json()).subscribe(data => {\n\n          if (data.success) {\n            console.log(data);\n            loader.dismiss();\n            this.toastCtrl.create({\n              message: data.data,\n              duration: 2500,\n              position: 'top'\n            }).present();\n          }\n          else {\n            this.toastCtrl.create({\n              message: data.data,\n              duration: 2500,\n              position: 'top'\n            }).present();\n            loader.dismiss();\n          }\n\n        }, error => {\n          console.log(error);\n        });\n\n      } else {\n\n        this.toastCtrl.create({\n          message: 'Introdu aceleasi valori in campurile \"Noua parola\" si \"Repeta parola\".',\n          duration: 2500,\n          position: 'top'\n        }).present();\n\n      }\n\n    } else {\n      this.toastCtrl.create({\n        message: 'Completeaza toate campurile',\n        duration: 2500,\n        position: 'top'\n      }).present();\n    }\n    console.log(this.myForm._value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}