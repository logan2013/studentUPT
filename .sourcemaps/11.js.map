{"version":3,"sources":["../../src/pages/paginafacultate/viewpage/viewpage.module.ts","../../src/pages/paginafacultate/viewpage/viewpage.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Viewpage } from './viewpage';\nimport { IonicImageViewerModule } from 'ionic-img-viewer';\nimport { IonicImageLoader } from 'ionic-image-loader';\n\n@NgModule({\n  declarations: [\n    Viewpage, \n  ],\n  imports: [\n    IonicPageModule.forChild(Viewpage),\n    IonicImageViewerModule,\n    IonicImageLoader\n  ],\n  exports: [\n    Viewpage, \n  ]\n})\nexport class ViewpageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paginafacultate/viewpage/viewpage.module.ts","import { Component, NgZone,ViewChild } from '@angular/core';\nimport { IonicPage, Content,ScrollEvent, AlertController, ModalController, ToastController, Events, } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport { DataTabs } from '../../../providers/datatabs';\nimport { Auth } from '../../../providers/auth';\nimport 'rxjs/add/operator/map';\nimport * as firebase from 'firebase';\n\n@IonicPage()\n@Component({\n  selector: 'page-viewpage',\n  templateUrl: 'viewpage.html',\n})\nexport class Viewpage {\n  public showSpinner: boolean = true;\n  public url: any;\n  public firestore = firebase.storage();\n  public uptData: any; // parameters sends from tab page !\n  public pozaUPT: any;\n  public user: any; // this will be a global variable for status of user\n  public posts: any;\n  public title: any;\n  public text: any;\n  public newtext: any;\n  public time: any;\n  public info: any = []; // data user recieve from provider\n  public items: Array<{ title: string, text: string, icon: string }>;\n  public limit: number = 50;\n  public offset: number = 0;\n  constructor(\n    public zone: NgZone,\n    public events: Events,\n    public dataTabs: DataTabs,\n    public alertCtrl: AlertController,\n    public http: Http,\n    public toastCtrl: ToastController,\n    public modalCtrl: ModalController,\n    public auth: Auth) {\n    this.auth.login().then((isLoggedIn) => {\n      this.info = isLoggedIn;\n    });\n    this.items = [];\n    this.newtext = localStorage.getItem('text');// ??\n    this.user = localStorage.getItem('user') //user\n    let loader = this.toastCtrl.create({\n      message: \"Loading...\",\n      position: 'middle',\n      cssClass: 'toast'\n    });\n    loader.present();\n    this.http.get('http://193.226.9.153/getdata.php?facultate=' + this.dataTabs.message.note + '&limit=50&offset=0').map(res => res.json()).subscribe(data => {\n      console.log(data)\n      this.posts = data;\n      if (this.posts !== null) {\n        for (let i = 0; i < this.posts.length; i++) {\n          if (this.posts[i].icon) {\n            this.firestore.ref().child(this.posts[i].icon).getDownloadURL().then((url) => {\n              this.zone.run(() => {\n                this.posts[i].url = url;\n              })\n            })\n          }\n        }\n      }\n      localStorage.removeItem('upt');\n      // setTimeout(() => {\n        loader.dismiss();\n      // }, 500);\n     \n    });\n\n  }\n\n\n  doRefresh(refresher) {\n    this.showSpinner = false;\n    \n    localStorage.removeItem('upt');\n    this.http.get('http://193.226.9.153/getdata.php?facultate=' + this.dataTabs.message.note + '&limit=50&offset=0').map(res => res.json()).subscribe(data => {\n      this.posts = data;\n      if (this.posts !== null) {\n        for (let i = 0; i < this.posts.length; i++) {\n          if (this.posts[i].icon) {\n            this.firestore.ref().child(this.posts[i].icon).getDownloadURL().then((url) => {\n              this.zone.run(() => {\n                this.posts[i].url = url;\n              })\n            })\n          }\n        }\n      }\n    });\n\n    setTimeout(() => {\n      refresher.complete();\n    }, 200);\n\n  }\n\n  ionViewDidLoad() { }\n\n  presentProfileModal(item) {\n    let profileModal = this.modalCtrl.create('FacultHome', { id: item });\n    profileModal.present();\n  }\n\n\n  addNew() {\n    let profileModall = this.modalCtrl.create('FacultHome', { idd: 1, facultate: this.dataTabs.message.note });\n    profileModall.present();\n  }\n\n  doInfinite(infiniteScroll) {\n    this.offset += this.limit;\n    this.limit += 15;\n    this.http.get('http://193.226.9.153/getdata.php?facultate=' + this.dataTabs.message.note + '&limit=' + this.limit + '&offset=' + this.offset).map(res => res.json()).subscribe(data => {\n      if (data !== null) {\n        for (let i = 0; i < data.length; i++) {\n          this.posts.push(data[i]);\n        }\n      } else {\n        this.limit -= 15;\n        this.offset = this.limit;\n        infiniteScroll.enable(false);\n      }\n    });\n    infiniteScroll.complete();\n\n  }\n\n  deleteProfil(item) {\n    let confirm = this.alertCtrl.create({\n      title: 'Do you want to delete this item?',\n      message: 'If item is deleted it can t be restored',\n      buttons: [{\n        text: 'Disagree',\n        handler: () => {\n          console.log('Disagree clicked');\n        }\n      }, {\n        text: 'Agree',\n        handler: () => {\n          this.http.get('http://193.226.9.153/remove.php?delete=' + item).map(res => res.json()).subscribe(data => {\n          });\n        }\n      }]\n    });\n    confirm.present();\n  }\n\n  showContent(item) {\n    this.modalCtrl.create('ShowContent', { item: item }).present().then(() => {\n      this.auth.modal = true;\n    })\n  }\n  scrolll(ev) {\n    console.log(ev)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paginafacultate/viewpage/viewpage.ts"],"sourceRoot":""}